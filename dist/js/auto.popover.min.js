!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return function(){function o(t,o,i){return[parseFloat(t[0])*(d.test(t[0])?o/100:1),parseFloat(t[1])*(d.test(t[1])?i/100:1)]}function i(o,i){return parseInt(t.css(o,i),10)||0}function e(o){var i=o[0];return 9===i.nodeType?{width:o.width(),height:o.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:o.width(),height:o.height(),offset:{top:o.scrollTop(),left:o.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:o.outerWidth(),height:o.outerHeight(),offset:o.offset()}}t.ui=t.ui||{};var n,l,r=Math.max,s=Math.abs,f=Math.round,h=/left|center|right/,p=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,c=/^\w+/,d=/%$/,g=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==n)return n;var o,i,e=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),l=e.children()[0];return t("body").append(e),o=l.offsetWidth,e.css("overflow","scroll"),i=l.offsetWidth,o===i&&(i=e[0].clientWidth),e.remove(),n=o-i},getScrollInfo:function(o){var i=o.isWindow||o.isDocument?"":o.element.css("overflow-x"),e=o.isWindow||o.isDocument?"":o.element.css("overflow-y"),n="scroll"===i||"auto"===i&&o.width<o.element[0].scrollWidth,l="scroll"===e||"auto"===e&&o.height<o.element[0].scrollHeight;return{width:l?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(o){var i=t(o||window),e=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:e,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:e?i.width():i.outerWidth(),height:e?i.height():i.outerHeight()}}},t.fn.position=function(n){if(!n||!n.of)return g.apply(this,arguments);n=t.extend({},n);var d,u,m,v,w,y,W=t(n.of),b=t.position.getWithinInfo(n.within),x=t.position.getScrollInfo(b),H=(n.collision||"flip").split(" "),T={};return y=e(W),W[0].preventDefault&&(n.at="left top"),u=y.width,m=y.height,v=y.offset,w=t.extend({},v),t.each(["my","at"],function(){var t,o,i=(n[this]||"").split(" ");1===i.length&&(i=h.test(i[0])?i.concat(["center"]):p.test(i[0])?["center"].concat(i):["center","center"]),i[0]=h.test(i[0])?i[0]:"center",i[1]=p.test(i[1])?i[1]:"center",t=a.exec(i[0]),o=a.exec(i[1]),T[this]=[t?t[0]:0,o?o[0]:0],n[this]=[c.exec(i[0])[0],c.exec(i[1])[0]]}),1===H.length&&(H[1]=H[0]),"right"===n.at[0]?w.left+=u:"center"===n.at[0]&&(w.left+=u/2),"bottom"===n.at[1]?w.top+=m:"center"===n.at[1]&&(w.top+=m/2),d=o(T.at,u,m),w.left+=d[0],w.top+=d[1],this.each(function(){var e,h,p=t(this),a=p.outerWidth(),c=p.outerHeight(),g=i(this,"marginLeft"),y=i(this,"marginTop"),L=a+g+i(this,"marginRight")+x.width,P=c+y+i(this,"marginBottom")+x.height,C=t.extend({},w),k=o(T.my,p.outerWidth(),p.outerHeight());"right"===n.my[0]?C.left-=a:"center"===n.my[0]&&(C.left-=a/2),"bottom"===n.my[1]?C.top-=c:"center"===n.my[1]&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],l||(C.left=f(C.left),C.top=f(C.top)),e={marginLeft:g,marginTop:y},t.each(["left","top"],function(o,i){t.ui.position[H[o]]&&t.ui.position[H[o]][i](C,{targetWidth:u,targetHeight:m,elemWidth:a,elemHeight:c,collisionPosition:e,collisionWidth:L,collisionHeight:P,offset:[d[0]+k[0],d[1]+k[1]],my:n.my,at:n.at,within:b,elem:p})}),n.using&&(h=function(t){var o=v.left-C.left,i=o+u-a,e=v.top-C.top,l=e+m-c,f={target:{element:W,left:v.left,top:v.top,width:u,height:m},element:{element:p,left:C.left,top:C.top,width:a,height:c},horizontal:0>i?"left":o>0?"right":"center",vertical:0>l?"top":e>0?"bottom":"middle"};a>u&&s(o+i)<u&&(f.horizontal="center"),c>m&&s(e+l)<m&&(f.vertical="middle"),f.important=r(s(o),s(i))>r(s(e),s(l))?"horizontal":"vertical",n.using.call(this,t,f)}),p.offset(t.extend(C,{using:h}))})},t.ui.position={fit:{left:function(t,o){var i,e=o.within,n=e.isWindow?e.scrollLeft:e.offset.left,l=e.width,s=t.left-o.collisionPosition.marginLeft,f=n-s,h=s+o.collisionWidth-l-n;o.collisionWidth>l?f>0&&0>=h?(i=t.left+f+o.collisionWidth-l-n,t.left+=f-i):t.left=h>0&&0>=f?n:f>h?n+l-o.collisionWidth:n:f>0?t.left+=f:h>0?t.left-=h:t.left=r(t.left-s,t.left)},top:function(t,o){var i,e=o.within,n=e.isWindow?e.scrollTop:e.offset.top,l=o.within.height,s=t.top-o.collisionPosition.marginTop,f=n-s,h=s+o.collisionHeight-l-n;o.collisionHeight>l?f>0&&0>=h?(i=t.top+f+o.collisionHeight-l-n,t.top+=f-i):t.top=h>0&&0>=f?n:f>h?n+l-o.collisionHeight:n:f>0?t.top+=f:h>0?t.top-=h:t.top=r(t.top-s,t.top)}},flip:{left:function(t,o){var i,e,n=o.within,l=n.offset.left+n.scrollLeft,r=n.width,f=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-o.collisionPosition.marginLeft,p=h-f,a=h+o.collisionWidth-r-f,c="left"===o.my[0]?-o.elemWidth:"right"===o.my[0]?o.elemWidth:0,d="left"===o.at[0]?o.targetWidth:"right"===o.at[0]?-o.targetWidth:0,g=-2*o.offset[0];0>p?(i=t.left+c+d+g+o.collisionWidth-r-l,(0>i||i<s(p))&&(t.left+=c+d+g)):a>0&&(e=t.left-o.collisionPosition.marginLeft+c+d+g-f,(e>0||s(e)<a)&&(t.left+=c+d+g))},top:function(t,o){var i,e,n=o.within,l=n.offset.top+n.scrollTop,r=n.height,f=n.isWindow?n.scrollTop:n.offset.top,h=t.top-o.collisionPosition.marginTop,p=h-f,a=h+o.collisionHeight-r-f,c="top"===o.my[1],d=c?-o.elemHeight:"bottom"===o.my[1]?o.elemHeight:0,g="top"===o.at[1]?o.targetHeight:"bottom"===o.at[1]?-o.targetHeight:0,u=-2*o.offset[1];0>p?(e=t.top+d+g+u+o.collisionHeight-r-l,t.top+d+g+u>p&&(0>e||e<s(p))&&(t.top+=d+g+u)):a>0&&(i=t.top-o.collisionPosition.marginTop+d+g+u-f,t.top+d+g+u>a&&(i>0||s(i)<a)&&(t.top+=d+g+u))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var o,i,e,n,r,s=document.getElementsByTagName("body")[0],f=document.createElement("div");o=document.createElement(s?"div":"body"),e={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&t.extend(e,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in e)o.style[r]=e[r];o.appendChild(f),i=s||document.documentElement,i.insertBefore(o,i.firstChild),f.style.cssText="position: absolute; left: 10.7432222px;",n=t(f).offset().left,l=n>10&&11>n,o.innerHTML="",i.removeChild(o)}()}(),t.ui.position});var auto=function(t,o){var i=function(){o(".popover:visible").hide()};o("body").on("click touchstart",function(t){t.target.popover||i()});var e=function(t){var o=window.event||t;o.stopPropagation?o.stopPropagation():o.cancelBubble=!0};o.fn.autopopover=function(t){return this.each(function(){if("string"==typeof t||!this.popover){var n=o(this),l=o(this.popover||t.popover);this.popover=this.popover||l,"string"!=typeof t&&(t=o.extend({trigger:"click",position:"bottom center"},t),this.popover.settings=t);var r=this.popover.settings,s=function(){var t=r;t.position=t.position||"bottom center";var o=t.position.split(" ");1==o.length&&o.push("center");var i=o[0],e=o[1],s={bottom:{my:e+" top",at:e+" bottom+15px",arrow:"top"},top:{my:e+" bottom",at:e+" top-15px",arrow:"bottom"},left:{my:"right "+e,at:"left-15px "+e+function(){return"top"==e?"-15px":"bottom"==e?"+15px":"+0px"}(),arrow:"right"},right:{my:"left "+e,at:"right+15px "+e+function(){return"top"==e?"-15px":"bottom"==e?"+15px":"+0px"}(),arrow:"left"}},f=s[i];l.hasClass("arrow-"+f.arrow)||l.addClass("arrow-"+f.arrow),l.hasClass(e)||l.addClass(e);var h={my:f.my,at:f.at,of:n,collision:"none"};l.position(h)};if("string"==typeof t)return void("show"===t?l.show():"hide"===t?l.hide():"toggle"===t&&l.toggle());s(),l.on("click touchstart",e),n.on("touchstart",e),n.on(t.trigger,function(t){e(t);var n=o(".popover:visible");1===n.length&&l[0]!=n[0]&&i(),l.toggle()})}})}}(auto,jQuery);