!function(t){t.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(jQuery),function(t){t.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,(t(window).height()-t(this).outerHeight())/2+t(window).scrollTop())+"px"),this.css("left",Math.max(0,(t(window).width()-t(this).outerWidth())/2+t(window).scrollLeft())+"px"),this}}(jQuery);var auto=function(t,e){var i=function(){e(".dropdown ul:visible").hide()};e("body").on("click touchstart",function(){i()});var n=function(t){var e=window.event||t;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};e.fn.autodropdown=function(){return this.each(function(){var t=e(this).children().not("ul").first(),o=e(this).find("ul:first");o.on("touchstart",n),t.on("touchstart",n),t.on("click",function(t){n(t),i(),o.toggle()})})}}(auto,jQuery),auto={};auto.grid=function(t){var e=this;if(riot.observable(this),!t)throw"settings is undefined";if(!window.jQuery)throw"jquery is not loaded";if(!t.target)throw"settings.target is undefined";if(!$(t.target).is("div"))throw"settings.target must be a div element";if(this.stateplayer=new auto.grid.stateplayer,this.settings=$.extend(t||{},{pageSize:20}),this.settings.target=$(t.target),this.settings.target.addClass("autogrid").hide(),this.table=$("<table>"),this.settings.target.append(this.table),this.settings.actions)for(var i=0;i<this.settings.actions.length;i++)this.settings.actions[i].init&&this.settings.actions[i].init(this);this.settings.pager&&("infinite"===this.settings.pager?this.pager=new auto.grid.pagers.infinite(e):"basic"==this.settings.pager?this.pager=new auto.grid.pagers.basic(e):"object"==typeof this.settings.pager&&(this.pager=this.settings.pager)),this.settings.state&&this.setState(this.settings.state)},auto.grid.prototype.normalizeState=function(t){return t instanceof auto.grid.state?t:new auto.grid.state(t)},auto.grid.prototype.setState=function(t,e){t=this.normalizeState(t),this.stateplayer.push(t),this.trigger("prerender",t),this.render(t,e),this.trigger("postrender",t),this.settings.target.show()},auto.grid.prototype.getState=function(){return this.stateplayer.get()},auto.grid.prototype.notify=function(t){var e=$.extend(this.getState(),t||{});e.data.items=null,this.trigger("change",e)},auto.grid.prototype.getTarget=function(){return this.settings.target},auto.grid.prototype.getRows=function(){return this.table.find("tr.arow")},auto.grid.prototype.addRow=function(t){var e=$("<tr>");return t&&e.addClass(t),this.table.append(e),e},auto.grid.prototype.addRowAtIndex=function(t){var e=$("<tr>");return this.table.find("tr.arow").eq(t).before(e),e},auto.grid.prototype.addRowAfter=function(t){return this.addRowAtIndex(t.rowIndex)},auto.grid.prototype.render=function(t){var e=this;if(1==t.page&&(this.table.empty(),this.renderColumns(t)),t.data.exists()){var i=t.columns.getVisible(),n=function(t,i){if(e.settings.actions){var n=$.grep(e.settings.actions,function(t){return i(t)});$(n).each(function(e,i){var n=$("<td>");i.name&&n.text(i.name),i.tooltip&&n.prop("title",i.tooltip),n.addClass("action"),t.row.append(n),i.cell&&i.cell.render&&i.cell.render($.extend(t,{cell:n}))})}},o=function(t){$(t.rowData.items).each(function(n,o){var s=i[n],r=$("<td>");if(t.row.append(r),e.settings.render&&e.settings.render.cells){var a=$.extend(t,{cell:r,column:s,cellData:o}),l=e.settings.render.cells(a);l&&r.html(l)}else r.html(o)})};$(t.data.getVisible()).each(function(i,s){var r=e.addRow("arow"),a={row:r,rowIndex:i,rowData:{items:s,object:t.data.toObject(i)}};n(a,function(t){return"left"==t.orient||!t.orient}),o(a,s),n(a,function(t){return"right"==t.orient})})}},auto.grid.prototype.renderColumns=function(t){var e=this,i=t.columns.getVisible();if(!t.columns.exists()||!i)return!1;var n=this.addRow("header"),o=function(t){if(e.settings.actions){var i=$.grep(e.settings.actions,function(e){return t(e)});$(i).each(function(t,e){var i=$("<td>");e.name&&i.text(e.name),n.append(i),i.addClass("action"),e.header&&e.header.render&&e.header.render({row:n,cell:i})})}};o(function(t){return"left"==t.orient||!t.orient}),$(i).each(function(i,o){var s=$("<td>");if(s.text(o.description||o.name),s.on("selectstart",function(){return!1}),o.sort){s.addClass("autosort");var r=$("<i class='fa'>");r.data("name",o.name||o.description),s.append(r),r.toggleClass(o.sortOrder?"on fa-chevron-"+("asc"==o.sortOrder?"up":"down"):"fa-chevron-down"),s.on("click",function(i){r.hasClass("on")?(r.toggleClass("fa-chevron-down"),r.toggleClass("fa-chevron-up")):r.addClass("on"),e.settings.multiSort&&i.shiftKey||n.find("td i").each(function(){$(this).removeClass("on")}),r.removeClass("on").addClass("on"),$(t.columns.getSorted()).each(function(t,e){delete e.sortOrder}),n.find("td i.on").each(function(e,i){var n=$(i),o=t.columns.getByName(n.data("name"));o.sortOrder=n.hasClass("fa-chevron-up")?"asc":"desc"}),e.trigger("sort",t.columns.items)})}n.append(s)}),o(function(t){return"right"==t.orient})},auto.grid.state=function(t){var e=this;if(e.page=1,e.data={items:[],length:function(){return e.data.items.length},exists:function(){return e.data.items.length>0},get:function(t){if(0===e.columns.getHidden().length)return e.data.items;t=t||function(){return!0};for(var i=[],n=0;n<e.data.items.length;n++){for(var o=e.data.items[n].slice(),s=e.columns.items.length-1;s>=0;s--)t(e.columns.items[s],o[s],s)||o.splice(s,1);i.push(o)}return i},getVisible:function(){return e.data.get(function(t){return void 0===t.visible||t.visible===!0})},getHidden:function(){return e.data.get(function(t){return t.visible===!1})},toObject:function(t){if(!e.data.exists())return null;for(var i={},n=0;n<e.columns.items.length;n++){var o=e.columns.items[n];i[o.name]=e.data.items[t][n]}return i},toObjects:function(){var t=[];if(!e.data.exists())return null;for(var i=e.data.items,n=0;n<i.length;n++)t.push(e.data.toObject(n));return t}},e.columns={items:[],length:function(){return e.columns.items.length},exists:function(){return e.columns.items.length>0},getVisible:function(){return e.columns.exists()?$.grep(e.columns.items,function(t){return void 0===t.visible||t.visible===!0}):[]},getHidden:function(){return e.columns.exists()?$.grep(e.columns.items,function(t){return t.visible===!1}):[]},getIndex:function(t){for(var i=e.columns.items,n=0;n<i.length;n++)if(i[n].name==t)return n;return-1},getByName:function(t){for(var i=e.columns.items,n=0;n<i.length;n++)if(i[n].name==t)return i[n];return null},getSorted:function(){return $.grep(e.columns.items,function(t){return t.sortOrder})}},e.sort={items:[],length:function(){return e.sort.items.length},exists:function(){return e.sort.items.length>0}},t&&t.columns){for(var i=[],n=0;n<t.columns.length;n++){var o=t.columns[n];i.push("string"==typeof o?{name:o}:o)}t.columns=i}return t&&(e.sort.items=t.sort,e.data.items=t.data,e.columns.items=t.columns,e.page=t.page||e.page,e.total=t.total),e},auto.grid.stateplayer=function(){this.states=[],this.push=function(t){this.states.push(t)},this.pop=function(){return this.states.pop()},this.unshift=function(){return this.states.unshift()},this.shift=function(t){return this.states.shift(t)},this.merge=function(){},this.get=function(){return this.states[this.states.length-1]},this.clear=function(){this.states=[]}},auto.grid.pagers=auto.grid.pagers||{},auto.grid.pagers.basic=function(t,e){this.settings=$.extend({},e);riot.observable(this);var i=$("<div class='pager'>"),n=$("<ul class='pager-basic'>");i.append(n),t.settings.target.after(i),t.on("prerender",function(e){t.table.empty(),t.renderColumns(e),n.empty();var o=e.page,s=Math.ceil(e.total/t.settings.pageSize),r=$("<li class='link prev' title='Previous'><span class='fa fa-chevron-left'/></li>"),a=$("<li class='link next' title='Next'><span class='fa fa-chevron-right'/></li>");o==s?a.addClass("disabled"):a.on("click",function(){t.notify({page:o+1})}),1==o?r.addClass("disabled"):r.on("click",function(){t.notify({page:o-1})}),n.append(r),n.append("<li class='page'>"+o+" / "+s+"</li>"),n.append(a),i.fadeIn()})},auto.grid.pagers.infinite=function(t,e){e=$.extend({},e);var i=$(window),n=$(document),o=e.offset||300,s=!1;riot.observable(this),this.settings=e,i.scroll(function(){if(s&&i.scrollTop()>n.height()-i.height()-o){s=!1;var e=t.getState();t.notify({page:e.page+1})}}),t.on("prerender",function(){s=!0}),t.on("postrender",function(){i.trigger("scroll")})},auto.grid.actions=auto.grid.actions||{},auto.grid.actions.count=function(){riot.observable(this),this.init=function(t){this.grid=t},this.cell={render:function(t){t.cell.css("text-align","right"),t.cell.css("color","#ccc"),t.cell.html(t.row.index())}}},auto.grid.actions.select=function(t){var e=this;return riot.observable(this),this.orient=t.orient||"left",this.tooltip=t.tooltip||"",this.init=function(t){this.grid=t},this.header={render:function(t){var i=$("<input type='checkbox' />");t.cell.append(i),e.on("one",function(){i.prop("checked",e.grid.getRows().length===e.getSelectedRows().length)}),i.on("click",function(){var t=i.is(":checked");e.trigger("inner-all",t).trigger("all",t)})}},this.cell={render:function(i){var n=$("<input type='checkbox' />");i.cell.append(n);var o=function(){t.highlight&&(i.row.removeClass("highlight"),n.is(":checked")&&i.row.addClass("highlight"))};e.on("inner-all",function(t){n.prop("checked",t),o()}),n.on("click",function(){o(),e.trigger("one",n.is("checked"))})}},this.getSelectedRows=function(){return this.grid.table.find("tr.arow input[type='checkbox']:checked")},this},auto.grid.actions.expand=function(t){var e=this;riot.observable(this),this.orient=t.orient||"left",this.tooltip=t.tooltip||"",this.hide=t.hide||!1,this.expandClass=t.expandClass||"fa fa-chevron-right blue",this.collapseClass=t.collapseClass||"fa-chevron-down",this.init=function(t){this.grid=t},this.cell={render:function(t){t.row.on("destroyed",function(){t.container&&t.container.parent().remove()});var i=$("<i>");i.addClass(e.expandClass),t.cell.append(i),t.cell.on("click",function(){i.toggleClass(e.collapseClass);var n=i.hasClass(e.collapseClass);if(n){var o;e.hide&&t.container?(o=t.container,o.closest("tr").show()):(o=$("<td colspan='99' />"),i.closest("tr").after($("<tr class-'expand'>").append(o))),t.container=o,e.trigger("expand",t)}else{var s=i.closest("tr").next();e.hide?s.hide():(t.container=null,s.remove()),e.trigger("collapse",t)}})}}};var auto=function(t,e){var i=function(t,i){var n=e("<div>");n.addClass("automodal"),n.html("<div class='box'><div class='wrapper'><div class='header'><span></span><b class='close'>x</b></div><div class='content'></div><div></div>"),e("body").append(n);var o=function(){n.hide(),i.close&&i.close()};if(n.on("click",o),n.find(".close").on("click",o),n.find(".box").on("click",function(t){var e=window.event||t;return e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,!1}),n.find(".content").append(t||""),i.footer){var s=e("<div>");s.addClass("footer"),s.append(i.footer),content.after(s)}else n.find(".footer")&&n.find(".content").after(n.find(".footer"));return e(t).show(),n};e.fn.automodal=function(t){return this.each(function(){"hide"===t?this.modal&&(this.modal.hide(),this.modal.settings.close&&this.modal.settings.close()):(this.modal=this.modal||i(this,t),this.modal.settings=t,this.modal.find(".header span").text(t.title||"D"),this.modal.show().find(".wrapper").center())})}}(auto||{},jQuery);!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){return function(){function e(t,e,i){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?i/100:1)]}function i(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,s,r=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,h=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,u=/%$/,p=t.fn.position;t.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,i,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return t("body").append(n),e=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,e===i&&(i=n[0].clientWidth),n.remove(),o=e-i},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,s="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:s?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(o){if(!o||!o.of)return p.apply(this,arguments);o=t.extend({},o);var u,g,m,v,w,b,y=t(o.of),x=t.position.getWithinInfo(o.within),$=t.position.getScrollInfo(x),C=(o.collision||"flip").split(" "),W={};return b=n(y),y[0].preventDefault&&(o.at="left top"),g=b.width,m=b.height,v=b.offset,w=t.extend({},v),t.each(["my","at"],function(){var t,e,i=(o[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):h.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=h.test(i[1])?i[1]:"center",t=d.exec(i[0]),e=d.exec(i[1]),W[this]=[t?t[0]:0,e?e[0]:0],o[this]=[f.exec(i[0])[0],f.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===o.at[0]?w.left+=g:"center"===o.at[0]&&(w.left+=g/2),"bottom"===o.at[1]?w.top+=m:"center"===o.at[1]&&(w.top+=m/2),u=e(W.at,g,m),w.left+=u[0],w.top+=u[1],this.each(function(){var n,c,h=t(this),d=h.outerWidth(),f=h.outerHeight(),p=i(this,"marginLeft"),b=i(this,"marginTop"),k=d+p+i(this,"marginRight")+$.width,H=f+b+i(this,"marginBottom")+$.height,T=t.extend({},w),j=e(W.my,h.outerWidth(),h.outerHeight());"right"===o.my[0]?T.left-=d:"center"===o.my[0]&&(T.left-=d/2),"bottom"===o.my[1]?T.top-=f:"center"===o.my[1]&&(T.top-=f/2),T.left+=j[0],T.top+=j[1],s||(T.left=l(T.left),T.top=l(T.top)),n={marginLeft:p,marginTop:b},t.each(["left","top"],function(e,i){t.ui.position[C[e]]&&t.ui.position[C[e]][i](T,{targetWidth:g,targetHeight:m,elemWidth:d,elemHeight:f,collisionPosition:n,collisionWidth:k,collisionHeight:H,offset:[u[0]+j[0],u[1]+j[1]],my:o.my,at:o.at,within:x,elem:h})}),o.using&&(c=function(t){var e=v.left-T.left,i=e+g-d,n=v.top-T.top,s=n+m-f,l={target:{element:y,left:v.left,top:v.top,width:g,height:m},element:{element:h,left:T.left,top:T.top,width:d,height:f},horizontal:0>i?"left":e>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};d>g&&a(e+i)<g&&(l.horizontal="center"),f>m&&a(n+s)<m&&(l.vertical="middle"),l.important=r(a(e),a(i))>r(a(n),a(s))?"horizontal":"vertical",o.using.call(this,t,l)}),h.offset(t.extend(T,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,c=a+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&0>=c?(i=t.left+l+e.collisionWidth-s-o,t.left+=l-i):t.left=c>0&&0>=l?o:l>c?o+s-e.collisionWidth:o:l>0?t.left+=l:c>0?t.left-=c:t.left=r(t.left-a,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,c=a+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&0>=c?(i=t.top+l+e.collisionHeight-s-o,t.top+=l-i):t.top=c>0&&0>=l?o:l>c?o+s-e.collisionHeight:o:l>0?t.top+=l:c>0?t.top-=c:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,s=o.offset.left+o.scrollLeft,r=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-e.collisionPosition.marginLeft,h=c-l,d=c+e.collisionWidth-r-l,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,u="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,p=-2*e.offset[0];0>h?(i=t.left+f+u+p+e.collisionWidth-r-s,(0>i||i<a(h))&&(t.left+=f+u+p)):d>0&&(n=t.left-e.collisionPosition.marginLeft+f+u+p-l,(n>0||a(n)<d)&&(t.left+=f+u+p))},top:function(t,e){var i,n,o=e.within,s=o.offset.top+o.scrollTop,r=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=t.top-e.collisionPosition.marginTop,h=c-l,d=c+e.collisionHeight-r-l,f="top"===e.my[1],u=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>h?(n=t.top+u+p+g+e.collisionHeight-r-s,t.top+u+p+g>h&&(0>n||n<a(h))&&(t.top+=u+p+g)):d>0&&(i=t.top-e.collisionPosition.marginTop+u+p+g-l,t.top+u+p+g>d&&(i>0||a(i)<d)&&(t.top+=u+p+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,o,r,a=document.getElementsByTagName("body")[0],l=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in n)e.style[r]=n[r];e.appendChild(l),i=a||document.documentElement,i.insertBefore(e,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=t(l).offset().left,s=o>10&&11>o,e.innerHTML="",i.removeChild(e)}()}(),t.ui.position});var auto=function(t,e){var i=function(){e(".popover:visible").hide()};e("body").on("click touchstart",function(){i()});var n=function(t){var e=window.event||t;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};e.fn.autopopover=function(t){return this.each(function(){var o=e(this),s=e(t.popover);t.position=t.position||"bottom center";var r=t.position.split(" ");1==r.length&&r.push("center");var a=r[0],l=r[1],c={bottom:{my:l+" top",at:l+" bottom+15px",arrow:"top"},top:{my:l+" bottom",at:l+" top-15px",arrow:"bottom"},left:{my:"right "+l,at:"left-15px "+l+function(){return"top"==l?"-15px":"bottom"==l?"+15px":"+0px"}(),arrow:"right"},right:{my:"left "+l,at:"right+15px "+l+function(){return"top"==l?"-15px":"bottom"==l?"+15px":"+0px"}(),arrow:"left"}},h=c[a];s.addClass("arrow-"+h.arrow).addClass(l),s.position({my:h.my,at:h.at,of:o,collision:"none"}),s.on("click touchstart",n),o.on("touchstart",n),o.on("click",function(t){n(t),i(),s.toggle()})})}}(auto,jQuery),auto=function(t,e){e.fn.autotabs=function(t){return this.each(function(){this.tabs={},this.tabs.settings=t;var i=e(this),n=function(){e.each(i.find("li.active a"),function(){var i=e(this),n=e(this).data("tab"),o=e(n);i.parent().removeClass("active"),o.hide(),t&&t.hide&&t.hide(n)})};e.each(i.find("li a"),function(){var i=e(this),o=i.data("tab"),s=e(o);i.on("click",function(){n(),i.parent().addClass("active"),s.show(),t&&t.show&&t.show(o)})}),e(i.find(".active a").data("tab")).show()})}}(auto,jQuery);