(function(e){var t=("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,"+"defaultchecked,defaultmuted,defaultselected,defer,disabled,draggable,enabled,formnovalidate,hidden,"+"indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,"+"pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,spellcheck,translate,truespeed,"+"typemustmatch,visible").split(",");var r="area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr".split(",");var n={jade:v};var i={coffeescript:p,none:g,cs:p,es6:d,typescript:m};var o=/^<([\w\-]+)>([^\x00]*[\w\/]>$)?([^\x00]*?)^<\/\1>/gim,a=/<script(\s+type=['"]?([^>'"]+)['"]?)?>([^\x00]*?)<\/script>/gm,c=/<!--.*?-->/g,u=/<([\w\-]+)([^\/]*)\/\s*>/g,f=/^\s*\/\/.*$/gm,s=/\/\*[^\x00]*?\*\//gm;function l(e,n,i){e=e.replace(/\s+/g," ");e=e.trim().replace(c,"");e=e.replace(/=(\{[^\}]+\})([\s\>])/g,'="$1"$2');e=e.replace(/([\w\-]+)=["'](\{[^\}]+\})["']/g,function(e,r,n){if(t.indexOf(r.toLowerCase())>=0)r="__"+r;return r+'="'+n+'"'});if(n.expr){e=e.replace(/\{\s*([^\}]+)\s*\}/g,function(e,t){return"{"+w(t,n,i).trim()+"}"})}e=e.replace(u,function(e,t,n){var i="<"+t+(n?" "+n.trim():"")+">";if(r.indexOf(t.toLowerCase())==-1)i+="</"+t+">";return i});e=e.replace(/'/g,"\\'");e=e.replace(/\\[{}]/g,"\\$&");if(n.compact)e=e.replace(/> </g,"><");return e}function p(e){return require("coffee-script").compile(e,{bare:true})}function d(e){return require("6to5").transform(e).code}function m(e){return require("typescript-simple")(e)}function g(e){return e}function v(e){return require("jade").render(e,{pretty:true})}function h(e){e=e.replace(f,"").replace(s,"");var t=e.split("\n"),r="";t.forEach(function(e,n){var i=e.trim();if(i[0]!="}"&&i.indexOf("(")>0&&i.slice(-1)=="{"&&i.indexOf("function")==-1){var o=/(\s+)([\w]+)\s*\(([\w,\s]*)\)\s*\{/.exec(e);if(o&&!/^(if|while|switch|for)$/.test(o[2])){t[n]=o[1]+"this."+o[2]+" = function("+o[3]+") {";r=o[1]}}if(e.slice(0,r.length+1)==r+"}"){t[n]+=".bind(this);";r=""}});return t.join("\n")}function w(e,t,r){var n=t.parser||(r?i[r]:h);if(!n)throw new Error('Parser not found "'+r+'"');return n(e,t)}function y(e,t){var r=n[e];if(!r)throw new Error('Template parser not found "'+e+'"');return r(t)}function x(e,t){t=t||{};if(t.template)e=y(t.template,e);return e.replace(o,function(e,r,n,i){n=n||"";var o=t.type;if(!i.trim()){n=n.replace(a,function(e,t,r,n){if(r)o=r.replace("text/","");i=n;return""})}return"riot.tag('"+r+"', '"+l(n,t,o)+"', function(opts) {"+w(i,t,o)+"\n});"})}if(e){return module.exports={html:l,compile:x}}var b=document,q,E;function k(e,t){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(r.readyState==4&&r.status==200)t(r.responseText)};r.open("GET",e,true);r.send("")}function T(e){var t=/[ \t]+/.exec(e);if(t)e=e.replace(new RegExp("^"+t[0],"gm"),"");return e}function $(e){var t=b.createElement("script"),r=b.documentElement;t.text=x(e);r.appendChild(t);r.removeChild(t)}function C(e){var t=b.querySelectorAll('script[type="riot/tag"]');[].map.call(t,function(r,n){var i=r.getAttribute("src");function o(i){r.parentNode.removeChild(r);$(i);if(n+1==t.length){q.trigger("ready");E=true;e&&e()}}return i?k(i,o):o(T(r.innerHTML))})}function L(e,t){if(typeof e=="string"){var r=T(x(e));if(!t)$(r);return r}if(typeof e!="function")e=undefined;if(E)return e&&e();if(q){e&&q.on("ready",e)}else{q=riot.observable();C(e)}}var O=riot.mount,j=riot.mountTo;riot.mount=function(e,t){L(function(){O(e,t)})};riot.mountTo=function(e,t,r){L(function(){j(e,t,r)})};riot._compile=function(e){return L(e,true)}})(!this.top);